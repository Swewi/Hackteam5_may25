{% extends "base.html" %}
{% load static %}

{% block title %}About{% endblock %}

{% block content %}
<section class="container-fluid about-banner text-center mt-5">
    <h1>Meet the team members from</h1>
</section>
<div class="banner">
    <div class="slider" style="--quantity: 6"> <!-- Adjust the number of items here -->
        <div class="item" style="--position: 6">
            <div class="spacing">
                <div class="polariod" data-name="Asya Haroyan" data-bio="Don't know what to put here"
                    data-link1="https://github.com/asyaharoyan"
                    data-link2="https://www.linkedin.com/in/asya-haroyan-688b43159/"
                    data-img="{% static 'images/team/asya.png' %}" data-border-color="#ffd6a5">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/asya.png' %}" alt="Team member: Asya">
                            <h3 class="title">Asya Haroyan</h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item" style="--position: 5">
            <div class="spacing">
                <div class="polariod" data-name="Brandon-Lea Price" data-bio="UK based Full Stack developer, always looking for a challenge and learning new skills everyday.."
                    data-info="Go take a look at my github and then connect on LinkedIn!"
                    data-link1="https://github.com/brandonlea"
                    data-link2="https://www.linkedin.com/in/brandon-lea-price-249129172/"
                    data-img="{% static 'images/team/brandon.png' %}" data-border-color="#fdffb6">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/brandon.png' %}"
                                alt="Team member: Brandon-Lea">
                            <h3 class="title">Brandon-Lea Price</h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item" style="--position: 4">
            <div class="spacing">
                <div class="polariod" data-name="Ebuka Martins" data-bio="Not sure what to put here." 
                    data-info="Go take a look at my github and then connect on LinkedIn!" 
                    data-link1="https://github.com/Ebuka-martins"
                    data-link2="http://www.linkedin.com/in/ebuka-martins-echesi-msc-b-tech-software-development-a724a86a"
                    data-img="{% static 'images/team/ebuka.png' %}" data-border-color="#caffbf">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/ebuka.png' %}" alt="Team member: Ebuka">
                            <h3 class="title">Ebuka Martins </h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item" style="--position: 3">
            <div class="spacing">
                <div class="polariod" data-name="Kian Jenkins" data-bio="Interesting facts."
                    data-info="Go take a look at my github and then connect on LinkedIn!"
                    data-link1="https://github.com/Ljkkj7"
                    data-link2="https://www.linkedin.com/in/kian-jenkins-421425202/"
                    data-img="{% static 'images/team/kian.png' %}" data-border-color="#9bf6ff">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/kian.png' %}" alt="Team member: Kian">
                            <h3 class="title">Kian Jenkins</h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item" style="--position: 2">
            <div class="spacing">
                <div class="polariod" data-name="Kiree Bellamy"
                    data-bio="Swedish based, Kiwi coder, This months Scrum master, do my best to support the team so we can make the best product we can."
                    data-info="Go take a look at my github and then connect on LinkedIn!"
                    data-link1="https://github.com/Swewi" data-link2="https://www.linkedin.com/in/kireebellamy/"
                    data-img="{% static 'images/team/kiree.png' %}" data-border-color="#bdb2ff">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/kiree.png' %}" alt="Team member: Kiree">
                            <h3 class="title">Kiree Bellamy</h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="item" style="--position: 1">
            <div class="spacing">
                <div class="polariod" data-name="Dimitri Edel" data-bio="German based backend engineer extraordinaire."
                    data-info="Go take a look at my github and then connect on LinkedIn!"
                    data-link1="https://github.com/dimitri-edel"
                    data-link2="https://www.linkedin.com/in/dimitri-edel-26a5022a9/"
                    data-img="{% static 'images/team/dimitri.png' %}" data-border-color="#ffc6ff">
                    <div class="card-axis">
                        <div>
                            <img class="mt-1" src="{% static 'images/team/dimitri.png' %}"
                                alt="Team member: Dimitri">
                            <h3 class="title">Dimitri Edel</h3>
                            <i class="fas fa-sync-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Centered logo -->
    <div class="light">
        <img src="{% static 'images/team-logo.png' %}" alt="team logo" class="rounded-circle team-logo mt-4">
    </div>
</div>
<div class="details-section data-border" id="details-section">
    <button class="close-btn">x</button>
    <h2 id="details-name"></h2>
    <img id="details-img" src="" alt="Team member details">
    <p id="details-bio"></p>
    <p id="details-info"></p>
    <div id="details-links">
        <a id="link1" class="about-link-icon" href="#" target="_blank"><i class="fab fa-github"></i></a>
        <a id="link2" class="about-link-icon" href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const light = document.querySelector('.light');
        const cardAxes = document.querySelectorAll('.card-axis');

        light.addEventListener('mouseover', function () {
            cardAxes.forEach(card => {
                card.classList.add('highlight');
            });
        });

        light.addEventListener('mouseout', function () {
            cardAxes.forEach(card => {
                card.classList.remove('highlight');
            });
        });

        const polaroids = document.querySelectorAll('.polariod');
        const detailsSection = document.getElementById('details-section');
        const detailsName = document.getElementById('details-name');
        const detailsImg = document.getElementById('details-img');
        const detailsBio = document.getElementById('details-bio');
        const detailsInfo = document.getElementById('details-info');
        const link1 = document.getElementById('link1');
        const link2 = document.getElementById('link2');
        const closeBtn = document.querySelector('.close-btn');

        // Debug to check if polaroids are found
        console.log("Found polaroids:", polaroids.length);

        polaroids.forEach(polaroid => {
            polaroid.addEventListener('click', function () {
                // Debug to check if click event fires
                console.log("Polaroid clicked:", this.getAttribute('data-name'));
                
                const name = this.getAttribute('data-name');
                const bio = this.getAttribute('data-bio');
                const info = this.getAttribute('data-info');
                const imgSrc = this.getAttribute('data-img');
                const link1Url = this.getAttribute('data-link1');
                const link2Url = this.getAttribute('data-link2');

                detailsName.textContent = name;
                detailsBio.textContent = bio;
                detailsInfo.textContent = info || ""; // Handle if info is undefined
                detailsImg.src = imgSrc;
                link1.href = link1Url;
                link2.href = link2Url;

                // Make the details section visible
                detailsSection.classList.add('visible');
            });
        });

        // Hide details section if close button is clicked
        closeBtn.addEventListener('click', function () {
            detailsSection.classList.remove('visible');
        });

        // Hide details section if clicked outside
        document.addEventListener('click', function (event) {
            if (!event.target.closest('.polariod') && !event.target.closest('#details-section')) {
                detailsSection.classList.remove('visible');
            }
        });
    });
</script>

{% endblock %}
